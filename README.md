# 🎮 レトロテトリス (Retro Tetris)

クラシックな8ビット風デザインのテトリスWebアプリケーション。
Bob-IDEを用いて作成されました。

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![HTML5](https://img.shields.io/badge/HTML5-E34F26?logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?logo=javascript&logoColor=black)

## 📖 概要

純粋なHTML、CSS、JavaScriptで実装されたテトリスゲームです。レトロな8ビット風のデザインと、モダンなゲーム機能を組み合わせています。外部ライブラリやフレームワークは一切使用していません。

## ✨ 特徴

### 🎨 レトロデザイン
- **8ビット風フォント**: Press Start 2Pフォントを使用
- **ドット絵風ブロック**: ピクセルパーフェクトな表現
- **CRTスキャンライン効果**: 昔のブラウン管モニター風
- **ネオングロー効果**: タイトルとUIの光る演出
- **クラシックカラーパレット**: レトロゲームを彷彿とさせる配色

### 🎯 ゲーム機能

#### 基本機能
- ✅ 10×20のゲームボード
- ✅ 7種類のテトリミノ（I, O, T, S, Z, J, L）
- ✅ スムーズなブロック移動・回転
- ✅ ライン消去とスコア計算
- ✅ 正確な衝突判定

#### 高度な機能
- ✅ **レベルシステム**: 10ライン消去毎にレベルアップ、落下速度が増加
- ✅ **ネクストブロック表示**: 次に来るブロックのプレビュー
- ✅ **ゴーストブロック**: 落下位置を半透明で表示
- ✅ **ハイスコア保存**: localStorageで永続化
- ✅ **壁蹴り処理**: 回転時の自動位置調整
- ✅ **ハードドロップ**: スペースキーで一気に落下
- ✅ **一時停止機能**: ゲームの一時停止/再開

### 📱 レスポンシブ対応
- デスクトップ、タブレット、スマートフォンに対応
- 画面サイズに応じたレイアウト調整
- タッチデバイスでも快適にプレイ可能

## 🚀 使い方

### 起動方法

1. `index.html` をブラウザで開く
2. Enterキーを押してゲーム開始
3. 楽しむ！

## 🎮 操作方法

### ⌨️ キーボード操作

| キー | 動作 |
|------|------|
| `←` | 左に移動 |
| `→` | 右に移動 |
| `↑` | 回転 |
| `↓` | 高速落下（ソフトドロップ） |
| `スペース` | 一気に落下（ハードドロップ） |
| `P` | 一時停止/再開 |
| `Enter` | ゲーム開始/リスタート |

### 📱 タッチ操作（スマートフォン・タブレット）

| 操作 | 動作 |
|------|------|
| `左フリック（左スワイプ）` | 左に移動 |
| `右フリック（右スワイプ）` | 右に移動 |
| `下フリック（下スワイプ）` | 一気に落下（ハードドロップ） |
| `タップ` | 回転 / ゲーム開始 |

> **💡 ヒント**: スワイプは50ピクセル以上の移動で認識されます。タップは素早く画面をタッチすることで認識されます。

## 📊 スコアリングシステム

### ライン消去
| ライン数 | 基本点 | 実際のスコア |
|----------|--------|--------------|
| 1ライン | 100点 | 100 × レベル |
| 2ライン | 300点 | 300 × レベル |
| 3ライン | 500点 | 500 × レベル |
| 4ライン（テトリス） | 800点 | 800 × レベル |

### ドロップボーナス
- **ソフトドロップ**: 1点/マス
- **ハードドロップ**: 2点/マス

### レベルシステム
- 10ライン消去毎にレベルアップ
- レベルが上がると落下速度が増加
- 落下速度 = 1000ms - (レベル × 50ms)
- 最小速度: 100ms

## 📁 ファイル構成

```
retro-tetris/
├── index.html          # メインHTMLファイル
├── style.css           # レトロスタイルのCSS
├── game.js             # ゲームロジック
└── README.md           # このファイル
```

### ファイル詳細

#### `index.html` (95行)
- ゲームの基本構造
- Canvas要素（メインボード、ネクストブロック）
- スコア表示エリア
- オーバーレイ画面（スタート、一時停止、ゲームオーバー）

#### `style.css` (339行)
- レトロスタイルのデザイン
- CRTスキャンライン効果
- ネオングロー効果
- レスポンシブレイアウト
- アニメーション効果

#### `game.js` (717行)
- ゲームロジックの実装
- テトリミノの定義と管理
- 衝突判定システム
- スコアリングシステム
- ハイスコア保存機能
- キーボード操作処理
- タッチ操作処理（スワイプ・タップ検出）

## 🛠️ 技術スタック

- **HTML5**: セマンティックマークアップ、Canvas API
- **CSS3**: Flexbox、Grid、アニメーション、カスタムプロパティ
- **JavaScript (ES6+)**: モジュールパターン、requestAnimationFrame
- **Web Storage API**: ハイスコアの永続化

### 使用している主要API
- Canvas 2D Context API
- requestAnimationFrame
- localStorage
- KeyboardEvent
- TouchEvent（タッチ操作対応）

## 🎨 カラーパレット

| ブロック | カラーコード | 色 |
|----------|--------------|-----|
| I | `#00ffff` | シアン |
| O | `#ffff00` | 黄色 |
| T | `#ff00ff` | マゼンタ |
| S | `#00ff00` | 緑 |
| Z | `#ff0000` | 赤 |
| J | `#0000ff` | 青 |
| L | `#ff8800` | オレンジ |

## 🔧 カスタマイズ

### ゲーム速度の調整

`game.js` の以下の部分を編集：

```javascript
// 初期落下速度（ミリ秒）
let dropInterval = 1000;

// レベルアップ時の速度計算
dropInterval = Math.max(100, 1000 - (level - 1) * 50);
```

### ボードサイズの変更

```javascript
const COLS = 10;  // 列数
const ROWS = 20;  // 行数
const BLOCK_SIZE = 30;  // ブロックサイズ（ピクセル）
```

### スコアリングの調整

```javascript
const POINTS = {
    SINGLE: 100,
    DOUBLE: 300,
    TRIPLE: 500,
    TETRIS: 800,
    SOFT_DROP: 1,
    HARD_DROP: 2
};
```

## 🌐 ブラウザ対応

| ブラウザ | バージョン | 対応状況 |
|----------|------------|----------|
| Chrome | 90+ | ✅ 完全対応 |
| Firefox | 88+ | ✅ 完全対応 |
| Safari | 14+ | ✅ 完全対応 |
| Edge | 90+ | ✅ 完全対応 |
| Opera | 76+ | ✅ 完全対応 |

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は [LICENSE](https://github.com/y-okabe/retro-tetris/blob/main/LICENSE) ファイルを参照してください。